(function(u,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue"),require("interactjs"),require("mitt"),require("resize-observer-polyfill")):typeof define=="function"&&define.amd?define(["exports","vue","interactjs","mitt","resize-observer-polyfill"],o):(u=typeof globalThis<"u"?globalThis:u||self,o(u.VueGridLayout={},u.vue,u.interact,u.mitt,u.ResizeObserver))})(this,function(u,o,b,O,N){"use strict";function X(t){let e=0,i;for(let s=0,n=t.length;s<n;s++)i=t[s].y+t[s].h,i>e&&(e=i);return e}function w(t){const e=Array(t.length);for(let i=0,s=t.length;i<s;i++)e[i]=j(t[i]);return e}function j(t){return JSON.parse(JSON.stringify(t))}function x(t,e){return!(t===e||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h)}function m(t,e){const i=W(t),s=k(t),n=Array(t.length);for(let r=0,a=s.length;r<a;r++){let h=s[r];h.static||(h=Y(i,h,e),i.push(h)),n[t.indexOf(h)]=h,h.moved=!1}return n}function Y(t,e,i){if(i)for(;e.y>0&&!p(t,e);)e.y--;let s;for(;s=p(t,e);)e.y=s.y+s.h;return e}function q(t,e){const i=W(t);for(let s=0,n=t.length;s<n;s++){const r=t[s];if(r.x+r.w>e.cols&&(r.x=e.cols-r.w),r.x<0&&(r.x=0,r.w=e.cols),!r.static)i.push(r);else for(;p(i,r);)r.y++}return t}function H(t,e){return t.find(i=>i.i===e)||{x:0,y:0,w:0,h:0,i:""}}function p(t,e){for(let i=0,s=t.length;i<s;i++)if(x(t[i],e))return t[i]}function B(t,e){return t.filter(i=>x(i,e))}function W(t){return t.filter(e=>e.static)}function v(t,e,i,s,n,r){if(e.static)return t;const a=e.x,h=e.y,f=s&&e.y>s;typeof i=="number"&&(e.x=i),typeof s=="number"&&(e.y=s),e.moved=!0;let l=k(t);f&&(l=l.reverse());const d=B(l,e);if(r&&d.length)return e.x=a,e.y=h,e.moved=!1,t;for(let c=0,y=d.length;c<y;c++){const g=d[c];g.moved||e.y>g.y&&e.y-g.y>g.h/4||(g.static?t=C(t,g,e,n):t=C(t,e,g,n))}return t}function C(t,e,i,s){if(s){const r={x:i.x,y:i.y,w:i.w,h:i.h,i:"-1"};if(r.y=Math.max(e.y-i.h,0),!p(t,r))return v(t,i,void 0,r.y,!1)}return v(t,i,void 0,i.y+1,!1)}function I(t,e,i,s){return{transform:"translate3d("+e+"px,"+t+"px, 0)",width:i+"px",height:s+"px",position:"absolute"}}function A(t,e,i,s){return{transform:"translate3d("+e*-1+"px,"+t+"px, 0)",width:i+"px",height:s+"px",position:"absolute"}}function T(t,e,i,s){return{top:t+"px",left:e+"px",width:i+"px",height:s+"px",position:"absolute"}}function F(t,e,i,s){return{top:t+"px",right:e+"px",width:i+"px",height:s+"px",position:"absolute"}}function k(t){return[].concat(t).sort(function(e,i){return e.y===i.y&&e.x===i.x?0:e.y>i.y||e.y===i.y&&e.x>i.x?1:-1})}function P(t,e="Layout"){const i=["x","y","w","h"];let s=[];if(!Array.isArray(t))throw new Error(e+" must be an array!");for(let n=0,r=t.length;n<r;n++){const a=t[n];for(let h=0;h<i.length;h++)if(typeof a[i[h]]!="number")throw new Error("VueGridLayout: "+e+"["+n+"]."+i[h]+" must be a number!");if(a.i===void 0||a.i===null)throw new Error("VueGridLayout: "+e+"["+n+"].i cannot be null!");if(typeof a.i!="number"&&typeof a.i!="string")throw new Error("VueGridLayout: "+e+"["+n+"].i must be a string or number!");if(s.indexOf(a.i)>=0)throw new Error("VueGridLayout: "+e+"["+n+"].i must be unique!");if(s.push(a.i),a.static!==void 0&&typeof a.static!="boolean")throw new Error("VueGridLayout: "+e+"["+n+"].static must be a boolean!")}}function S(t){return G(t)}function G(t){const e=t.target.offsetParent||document.body,i=e===document.body?{left:0,top:0}:e.getBoundingClientRect(),s=t.clientX+e.scrollLeft-i.left,n=t.clientY+e.scrollTop-i.top;return{x:s,y:n}}function $(t,e,i,s){return _(t)?{deltaX:i-t,deltaY:s-e,lastX:t,lastY:e,x:i,y:s}:{deltaX:0,deltaY:0,lastX:i,lastY:s,x:i,y:s}}function _(t){return typeof t=="number"&&!isNaN(t)}function V(t,e){const i=M(t);let s=i[0];for(let n=1,r=i.length;n<r;n++){const a=i[n];e>t[a]&&(s=a)}return s}function z(t,e){if(!e[t])throw new Error("ResponsiveGridLayout: `cols` entry for breakpoint "+t+" is missing!");return e[t]}function U(t,e,i,s,n,r,a){if(e[s])return w(e[s]);let h=t;const f=M(i),l=f.slice(f.indexOf(s));for(let d=0,c=l.length;d<c;d++){const y=l[d];if(e[y]){h=e[y];break}}return h=w(h||[]),m(q(h,{cols:r}),a)}function M(t){return Object.keys(t).sort(function(i,s){return t[i]-t[s]})}let J="auto";function D(){return typeof document>"u"?J:document.documentElement.dir}const K=o.defineComponent({name:"GridItem",props:{isDraggable:{type:Boolean,required:!1,default:null},isResizable:{type:Boolean,required:!1,default:null},static:{type:Boolean,required:!1,default:!1},minH:{type:Number,required:!1,default:1},minW:{type:Number,required:!1,default:1},maxH:{type:Number,required:!1,default:1/0},maxW:{type:Number,required:!1,default:1/0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},i:{required:!0},dragIgnoreFrom:{type:String,required:!1,default:"a, button"},dragAllowFrom:{type:String,required:!1,default:null},resizeIgnoreFrom:{type:String,required:!1,default:"a, button"},preserveAspectRatio:{type:Boolean,required:!1,default:!1}},inject:["eventBus","layout"],data(){return{cols:1,containerWidth:100,rowHeight:30,margin:[10,10],maxRows:1/0,draggable:null,resizable:null,useCssTransforms:!0,useStyleCursor:!0,isDragging:!1,dragging:null,isResizing:!1,resizing:null,lastX:NaN,lastY:NaN,lastW:NaN,lastH:NaN,style:{},rtl:!1,dragEventSet:!1,resizeEventSet:!1,previousW:null,previousH:null,previousX:null,previousY:null,innerX:this.x,innerY:this.y,innerW:this.w,innerH:this.h}},emits:["container-resized","resize","resized","move","moved"],created(){let t=this;t.updateWidthHandler=function(e){t.updateWidth(e)},t.compactHandler=function(e){t.compact(e)},t.setDraggableHandler=function(e){t.isDraggable===null&&(t.draggable=e)},t.setResizableHandler=function(e){t.isResizable===null&&(t.resizable=e)},t.setRowHeightHandler=function(e){t.rowHeight=e},t.setMaxRowsHandler=function(e){t.maxRows=e},t.directionchangeHandler=()=>{this.rtl=D()==="rtl",this.compact()},t.setColNum=e=>{t.cols=parseInt(e)},this.eventBus.on("updateWidth",t.updateWidthHandler),this.eventBus.on("compact",t.compactHandler),this.eventBus.on("setDraggable",t.setDraggableHandler),this.eventBus.on("setResizable",t.setResizableHandler),this.eventBus.on("setRowHeight",t.setRowHeightHandler),this.eventBus.on("setMaxRows",t.setMaxRowsHandler),this.eventBus.on("directionchange",t.directionchangeHandler),this.eventBus.on("setColNum",t.setColNum),this.rtl=D()==="rtl"},beforeUnmount(){let t=this;this.eventBus.off("updateWidth",t.updateWidthHandler),this.eventBus.off("compact",t.compactHandler),this.eventBus.off("setDraggable",t.setDraggableHandler),this.eventBus.off("setResizable",t.setResizableHandler),this.eventBus.off("setRowHeight",t.setRowHeightHandler),this.eventBus.off("setMaxRows",t.setMaxRowsHandler),this.eventBus.off("directionchange",t.directionchangeHandler),this.eventBus.off("setColNum",t.setColNum),this.interactObj&&this.interactObj.unset()},mounted(){this.layout.responsive&&this.layout.lastBreakpoint?this.cols=z(this.layout.lastBreakpoint,this.layout.cols):this.cols=this.layout.colNum,this.rowHeight=this.layout.rowHeight,this.containerWidth=this.layout.width!==null?this.layout.width:100,this.margin=this.layout.margin!==void 0?this.layout.margin:[10,10],this.maxRows=this.layout.maxRows,this.isDraggable===null?this.draggable=this.layout.isDraggable:this.draggable=this.isDraggable,this.isResizable===null?this.resizable=this.layout.isResizable:this.resizable=this.isResizable,this.useCssTransforms=this.layout.useCssTransforms,this.useStyleCursor=this.layout.useStyleCursor,this.createStyle()},watch:{isDraggable(){this.draggable=this.isDraggable},static(){this.tryMakeDraggable(),this.tryMakeResizable()},draggable(){this.tryMakeDraggable()},isResizable(){this.resizable=this.isResizable},resizable(){this.tryMakeResizable()},rowHeight(){this.createStyle(),this.emitContainerResized()},cols(){this.tryMakeResizable(),this.createStyle(),this.emitContainerResized()},containerWidth(){this.tryMakeResizable(),this.createStyle(),this.emitContainerResized()},x(t){this.innerX=t,this.createStyle()},y(t){this.innerY=t,this.createStyle()},h(t){this.innerH=t,this.createStyle()},w(t){this.innerW=t,this.createStyle()},renderRtl(){this.tryMakeResizable(),this.createStyle()},minH(){this.tryMakeResizable()},maxH(){this.tryMakeResizable()},minW(){this.tryMakeResizable()},maxW(){this.tryMakeResizable()},"$parent.margin"(t){!t||t[0]==this.margin[0]&&t[1]==this.margin[1]||(this.margin=t.map(e=>Number(e)),this.createStyle(),this.emitContainerResized())}},computed:{classObj(){return{"vue-resizable":this.resizableAndNotStatic,static:this.static,resizing:this.isResizing,"vue-draggable-dragging":this.isDragging,cssTransforms:this.useCssTransforms,"render-rtl":this.renderRtl,"disable-userselect":this.isDragging,"no-touch":this.isAndroid&&this.draggableOrResizableAndNotStatic}},resizableAndNotStatic(){return this.resizable&&!this.static},draggableOrResizableAndNotStatic(){return(this.draggable||this.resizable)&&!this.static},isAndroid(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},renderRtl(){return this.layout.isMirrored?!this.rtl:this.rtl},resizableHandleClass(){return this.renderRtl?"vue-resizable-handle vue-rtl-resizable-handle":"vue-resizable-handle"}},methods:{createStyle(){this.x+this.w>this.cols?(this.innerX=0,this.innerW=this.w>this.cols?this.cols:this.w):(this.innerX=this.x,this.innerW=this.w);let t=this.calcPosition(this.innerX,this.innerY,this.innerW,this.innerH);this.isDragging&&(t.top=this.dragging.top,this.renderRtl?t.right=this.dragging.left:t.left=this.dragging.left),this.isResizing&&(t.width=this.resizing.width,t.height=this.resizing.height);let e;this.useCssTransforms?this.renderRtl?e=A(t.top,t.right,t.width,t.height):e=I(t.top,t.left,t.width,t.height):this.renderRtl?e=F(t.top,t.right,t.width,t.height):e=T(t.top,t.left,t.width,t.height),this.style=e},emitContainerResized(){let t={};for(let e of["width","height"]){let s=this.style[e].match(/^(\d+)px$/);if(!s)return;t[e]=s[1]}this.$emit("container-resized",this.i,this.h,this.w,t.height,t.width)},handleResize(t){if(this.static)return;const e=S(t);if(e==null)return;const{x:i,y:s}=e,n={width:0,height:0};let r;switch(t.type){case"resizestart":{this.previousW=this.innerW,this.previousH=this.innerH,r=this.calcPosition(this.innerX,this.innerY,this.innerW,this.innerH),n.width=r.width,n.height=r.height,this.resizing=n,this.isResizing=!0;break}case"resizemove":{const a=$(this.lastW,this.lastH,i,s);this.renderRtl?n.width=this.resizing.width-a.deltaX:n.width=this.resizing.width+a.deltaX,n.height=this.resizing.height+a.deltaY,this.resizing=n;break}case"resizeend":{r=this.calcPosition(this.innerX,this.innerY,this.innerW,this.innerH),n.width=r.width,n.height=r.height,this.resizing=null,this.isResizing=!1;break}}r=this.calcWH(n.height,n.width),r.w<this.minW&&(r.w=this.minW),r.w>this.maxW&&(r.w=this.maxW),r.h<this.minH&&(r.h=this.minH),r.h>this.maxH&&(r.h=this.maxH),r.h<1&&(r.h=1),r.w<1&&(r.w=1),this.lastW=i,this.lastH=s,(this.innerW!==r.w||this.innerH!==r.h)&&this.$emit("resize",this.i,r.h,r.w,n.height,n.width),t.type==="resizeend"&&(this.previousW!==this.innerW||this.previousH!==this.innerH)&&this.$emit("resized",this.i,r.h,r.w,n.height,n.width),this.eventBus.emit("resizeEvent",{eventType:t.type,i:this.i,x:this.innerX,y:this.innerY,h:r.h,w:r.w})},handleDrag(t){if(this.static||this.isResizing)return;const e=S(t);if(e===null)return;const{x:i,y:s}=e;let n={top:0,left:0};switch(t.type){case"dragstart":{this.previousX=this.innerX,this.previousY=this.innerY;let a=t.target.offsetParent.getBoundingClientRect(),h=t.target.getBoundingClientRect();this.renderRtl?n.left=(h.right-a.right)*-1:n.left=h.left-a.left,n.top=h.top-a.top,this.dragging=n,this.isDragging=!0;break}case"dragend":{if(!this.isDragging)return;let a=t.target.offsetParent.getBoundingClientRect(),h=t.target.getBoundingClientRect();this.renderRtl?n.left=(h.right-a.right)*-1:n.left=h.left-a.left,n.top=h.top-a.top,this.dragging=null,this.isDragging=!1;break}case"dragmove":{const a=$(this.lastX,this.lastY,i,s);this.renderRtl?n.left=this.dragging.left-a.deltaX:n.left=this.dragging.left+a.deltaX,n.top=this.dragging.top+a.deltaY,this.dragging=n;break}}let r;this.renderRtl?r=this.calcXY(n.top,n.left):r=this.calcXY(n.top,n.left),this.lastX=i,this.lastY=s,(this.innerX!==r.x||this.innerY!==r.y)&&this.$emit("move",this.i,r.x,r.y),t.type==="dragend"&&(this.previousX!==this.innerX||this.previousY!==this.innerY)&&this.$emit("moved",this.i,r.x,r.y),this.eventBus.emit("dragEvent",{eventType:t.type,i:this.i,x:r.x,y:r.y,h:this.innerH,w:this.innerW})},calcPosition(t,e,i,s){const n=this.calcColWidth();let r;return this.renderRtl?r={right:Math.round(n*t+(t+1)*this.margin[0]),top:Math.round(this.rowHeight*e+(e+1)*this.margin[1]),width:i===1/0?i:Math.round(n*i+Math.max(0,i-1)*this.margin[0]),height:s===1/0?s:Math.round(this.rowHeight*s+Math.max(0,s-1)*this.margin[1])}:r={left:Math.round(n*t+(t+1)*this.margin[0]),top:Math.round(this.rowHeight*e+(e+1)*this.margin[1]),width:i===1/0?i:Math.round(n*i+Math.max(0,i-1)*this.margin[0]),height:s===1/0?s:Math.round(this.rowHeight*s+Math.max(0,s-1)*this.margin[1])},r},calcXY(t,e){const i=this.calcColWidth();let s=Math.round((e-this.margin[0])/(i+this.margin[0])),n=Math.round((t-this.margin[1])/(this.rowHeight+this.margin[1]));return s=Math.max(Math.min(s,this.cols-this.innerW),0),n=Math.max(Math.min(n,this.maxRows-this.innerH),0),{x:s,y:n}},calcColWidth(){return(this.containerWidth-this.margin[0]*(this.cols+1))/this.cols},calcWH(t,e,i=!1){const s=this.calcColWidth();let n=Math.round((e+this.margin[0])/(s+this.margin[0])),r=0;return i?r=Math.ceil((t+this.margin[1])/(this.rowHeight+this.margin[1])):r=Math.round((t+this.margin[1])/(this.rowHeight+this.margin[1])),n=Math.max(Math.min(n,this.cols-this.innerX),0),r=Math.max(Math.min(r,this.maxRows-this.innerY),0),{w:n,h:r}},updateWidth(t,e){this.containerWidth=t,e!=null&&(this.cols=e)},compact(){this.createStyle()},tryMakeDraggable(){const t=this;if((this.interactObj===null||this.interactObj===void 0)&&(this.interactObj=b(this.$el),this.useStyleCursor||this.interactObj.styleCursor(!1)),this.draggable&&!this.static){const e={ignoreFrom:this.dragIgnoreFrom,allowFrom:this.dragAllowFrom};this.interactObj.draggable(e),this.dragEventSet||(this.dragEventSet=!0,this.interactObj.on("dragstart dragmove dragend",function(i){t.handleDrag(i)}))}else this.interactObj.draggable({enabled:!1})},tryMakeResizable(){const t=this;if((this.interactObj===null||this.interactObj===void 0)&&(this.interactObj=b(this.$el),this.useStyleCursor||this.interactObj.styleCursor(!1)),this.resizable&&!this.static){let e=this.calcPosition(0,0,this.maxW,this.maxH),i=this.calcPosition(0,0,this.minW,this.minH);const s={edges:{left:!1,right:"."+this.resizableHandleClass.trim().replace(" ","."),bottom:"."+this.resizableHandleClass.trim().replace(" ","."),top:!1},ignoreFrom:this.resizeIgnoreFrom,restrictSize:{min:{height:i.height,width:i.width},max:{height:e.height,width:e.width}},modifiers:[]};this.preserveAspectRatio&&(s.modifiers=[b.modifiers.aspectRatio({ratio:"preserve"})]),this.interactObj.resizable(s),this.resizeEventSet||(this.resizeEventSet=!0,this.interactObj.on("resizestart resizemove resizeend",function(n){t.handleResize(n)}))}else this.interactObj.resizable({enabled:!1})},autoSize(){this.previousW=this.innerW,this.previousH=this.innerH;let t=this.$el.firstElementChild.getBoundingClientRect(),e=this.calcWH(t.height,t.width,!0);e.w<this.minW&&(e.w=this.minW),e.w>this.maxW&&(e.w=this.maxW),e.h<this.minH&&(e.h=this.minH),e.h>this.maxH&&(e.h=this.maxH),e.h<1&&(e.h=1),e.w<1&&(e.w=1),(this.innerW!==e.w||this.innerH!==e.h)&&this.$emit("resize",this.i,e.h,e.w,t.height,t.width),(this.previousW!==e.w||this.previousH!==e.h)&&(this.$emit("resized",this.i,e.h,e.w,t.height,t.width),this.eventBus.emit("resizeEvent",{eventType:"resizeend",i:this.i,x:this.innerX,y:this.innerY,h:e.h,w:e.w}))}}}),E=(t,e)=>{const i=t.__vccOpts||t;for(const[s,n]of e)i[s]=n;return i};function Q(t,e,i,s,n,r){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(["vue-grid-item",t.classObj]),style:o.normalizeStyle(t.style)},[o.renderSlot(t.$slots,"default",{},void 0,!0),t.resizableAndNotStatic?(o.openBlock(),o.createElementBlock("span",{key:0,ref:"handle",class:o.normalizeClass(t.resizableHandleClass)},null,2)):o.createCommentVNode("",!0)],6)}const R=E(K,[["render",Q],["__scopeId","data-v-23225a7b"]]),Z=o.defineComponent({name:"GridLayout",provide(){return{eventBus:this.eventBus,layout:this}},components:{GridItem:R},props:{autoSize:{type:Boolean,default:!0},colNum:{type:Number,default:12},rowHeight:{type:Number,default:150},maxRows:{type:Number,default:1/0},margin:{type:Array,default(){return[10,10]}},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isMirrored:{type:Boolean,default:!1},useCssTransforms:{type:Boolean,default:!0},verticalCompact:{type:Boolean,default:!0},layout:{type:Array,required:!0},responsive:{type:Boolean,default:!1},responsiveLayouts:{type:Object,default(){return{}}},breakpoints:{type:Object,default(){return{lg:1200,md:996,sm:768,xs:480,xxs:0}}},cols:{type:Object,default(){return{lg:12,md:10,sm:6,xs:4,xxs:2}}},preventCollision:{type:Boolean,default:!1},useStyleCursor:{type:Boolean,default:!0}},data(){return{eventBus:O(),width:null,mergedStyle:{},lastLayoutLength:0,isDragging:!1,placeholder:{x:0,y:0,w:0,h:0,i:-1},layouts:{},lastBreakpoint:null,originalLayout:null}},emits:["update:layout","layout-created","layout-before-mount","layout-mounted","layout-updated","layout-ready","breakpoint-changed"],created(){const t=this;t.resizeEventHandler=function({eventType:e,i,x:s,y:n,h:r,w:a}){t.resizeEvent(e,i,s,n,r,a)},t.dragEventHandler=function({eventType:e,i,x:s,y:n,h:r,w:a}){t.dragEvent(e,i,s,n,r,a)},t.eventBus.on("resizeEvent",t.resizeEventHandler),t.eventBus.on("dragEvent",t.dragEventHandler),t.$emit("layout-created",t.layout)},beforeUnmount(){this.eventBus.off("resizeEvent",this.resizeEventHandler),this.eventBus.off("dragEvent",this.dragEventHandler),this.ro&&this.ro.unobserve(this.$el)},beforeMount(){this.$emit("layout-before-mount",this.layout)},mounted(){const t=this;this.$emit("layout-mounted",this.layout),this.$nextTick(function(){P(this.layout),this.originalLayout=this.layout,this.$nextTick(function(){t.onWindowResize(),t.initResponsiveFeatures(),m(t.layout,t.verticalCompact),t.$emit("layout-updated",t.layout),t.updateHeight(),t.$nextTick(function(){t.ro=new N(()=>{t.onWindowResize()}),t.ro.observe(this.$el)})})})},watch:{width(t,e){const i=this;this.$nextTick(function(){this.eventBus.emit("updateWidth",this.width),e===null&&this.$nextTick(()=>{this.$emit("layout-ready",i.layout)}),this.updateHeight()})},layout(){this.layoutUpdate()},"layout.length"(){this.layoutUpdate()},colNum(t){this.eventBus.emit("setColNum",t)},rowHeight(){this.eventBus.emit("setRowHeight",this.rowHeight)},isDraggable(){this.eventBus.emit("setDraggable",this.isDraggable)},isResizable(){this.eventBus.emit("setResizable",this.isResizable)},responsive(){this.responsive||(this.$emit("update:layout",this.originalLayout),this.eventBus.emit("setColNum",this.colNum)),this.onWindowResize()},maxRows(){this.eventBus.emit("setMaxRows",this.maxRows)},margin(){this.updateHeight()}},methods:{layoutUpdate(){if(this.layout!==void 0&&this.originalLayout!==null){if(this.layout.length!==this.originalLayout.length){let t=this.findDifference(this.layout,this.originalLayout);t.length>0&&(this.layout.length>this.originalLayout.length?this.originalLayout=this.originalLayout.concat(t):this.originalLayout=this.originalLayout.filter(e=>!t.some(i=>e.i===i.i))),this.lastLayoutLength=this.layout.length,this.initResponsiveFeatures()}m(this.layout,this.verticalCompact),this.eventBus.emit("updateWidth",this.width),this.updateHeight(),this.$emit("layout-updated",this.layout)}},updateHeight(){this.mergedStyle={height:this.containerHeight()}},onWindowResize(){this.$el&&(this.width=this.$el.offsetWidth),this.eventBus.emit("resizeEvent",{})},containerHeight(){return this.autoSize?X(this.layout)*(this.rowHeight+this.margin[1])+this.margin[1]+"px":void 0},dragEvent(t,e,i,s,n,r){let a=H(this.layout,e);t==="dragmove"||t==="dragstart"?(this.placeholder.i=e,this.placeholder.x=a.x,this.placeholder.y=a.y,this.placeholder.w=r,this.placeholder.h=n,this.$nextTick(function(){this.isDragging=!0}),this.eventBus.emit("updateWidth",this.width)):this.$nextTick(function(){this.isDragging=!1}),this.$emit("update:layout",v(this.layout,a,i,s,!0,this.preventCollision)),m(this.layout,this.verticalCompact),this.eventBus.emit("compact"),this.updateHeight(),t==="dragend"&&this.$emit("layout-updated",this.layout)},resizeEvent(t,e,i,s,n,r){let a=H(this.layout,e),h;if(this.preventCollision){const f=B(this.layout,{...a,w:r,h:n}).filter(l=>l.i!==a.i);if(h=f.length>0,h){let l=1/0,d=1/0;f.forEach(c=>{c.x>a.x&&(l=Math.min(l,c.x)),c.y>a.y&&(d=Math.min(d,c.y))}),Number.isFinite(l)&&(a.w=l-a.x),Number.isFinite(d)&&(a.h=d-a.y)}}h||(a.w=r,a.h=n),t==="resizestart"||t==="resizemove"?(this.placeholder.i=e,this.placeholder.x=i,this.placeholder.y=s,this.placeholder.w=a.w,this.placeholder.h=a.h,this.$nextTick(function(){this.isDragging=!0}),this.eventBus.emit("updateWidth",this.width)):this.$nextTick(function(){this.isDragging=!1}),this.responsive&&this.responsiveGridLayout(),m(this.layout,this.verticalCompact),this.eventBus.emit("compact"),this.updateHeight(),t==="resizeend"&&this.$emit("layout-updated",this.layout)},responsiveGridLayout(){let t=V(this.breakpoints,this.width),e=z(t,this.cols);this.lastBreakpoint!=null&&!this.layouts[this.lastBreakpoint]&&(this.layouts[this.lastBreakpoint]=w(this.layout));let i=U(this.originalLayout,this.layouts,this.breakpoints,t,this.lastBreakpoint,e,this.verticalCompact);this.layouts[t]=i,this.lastBreakpoint!==t&&this.$emit("breakpoint-changed",t,i),this.$emit("update:layout",i),this.lastBreakpoint=t,this.eventBus.emit("setColNum",z(t,this.cols))},initResponsiveFeatures(){this.layouts=Object.assign({},this.responsiveLayouts)},findDifference(t,e){let i=t.filter(function(n){return!e.some(function(r){return n.i===r.i})}),s=e.filter(function(n){return!t.some(function(r){return n.i===r.i})});return i.concat(s)}}});function tt(t,e,i,s,n,r){const a=o.resolveComponent("grid-item");return o.openBlock(),o.createElementBlock("div",{class:"vue-grid-layout",style:o.normalizeStyle(t.mergedStyle)},[o.renderSlot(t.$slots,"default",{},void 0,!0),o.withDirectives(o.createVNode(a,{class:"vue-grid-placeholder",x:t.placeholder.x,y:t.placeholder.y,w:t.placeholder.w,h:t.placeholder.h,i:t.placeholder.i},null,8,["x","y","w","h","i"]),[[o.vShow,t.isDragging]])],4)}const L=E(Z,[["render",tt],["__scopeId","data-v-0e66beca"]]),et=t=>{t.component("grid-layout",L),t.component("grid-item",R)};u.GridItem=R,u.GridLayout=L,u.default=et,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
